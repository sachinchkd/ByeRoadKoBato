import {
  GoogleGenerativeAI
} from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
    systemInstruction: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Uri, Geo Coordinates, ticket Pricing, rating, Tme travel each of the location for 3 days with each day plan with\nbest time to viSlffin JSON format;\n\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
 export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Uri, Geo Coordinates, ticket Pricing, rating, Tme travel each of the location for 3 days with each day plan with\nbest time to viSlffin JSON format;"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Trip for Couples\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"currency\": \"USD\",\n\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageUri\": \"https://www.kayak.com/rimg/himg/c8/8a/50/ice-39120-55057516_3XL-0197.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1284,\n        \"longitude\": -115.1658\n      },\n      \"rating\": 3.5,\n      \"description\": \"Affordable hotel with a circus theme, casino, and indoor amusement park.  Good for families and budget travelers. Can be noisy.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 55,\n      \"hotelImageUri\": \"https://www.kayak.com/rimg/himg/87/1f/14/expediav2-76850-cf79e2ef_z.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel with multiple restaurants, a casino, and entertainment options. Offers good value for its location on the Strip.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": 60,\n      \"hotelImageUri\": \"https://www.kayak.com/rimg/himg/d7/51/12/ice-11381-17124484_3XL-6319.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 4.0,\n      \"description\": \"Pyramid-shaped hotel with a distinctive design, casino, shows, and various dining options.  A memorable experience at a reasonable price.\"\n    }\n  ],\n\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning & Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for photos. Arrive early to avoid crowds.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Welcome_to_Las_Vegas_sign_edit.jpg/1280px-Welcome_to_Las_Vegas_sign_edit.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTimeFromHotel\": \"15-20 minutes (depending on hotel and traffic)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful, free floral displays that change seasonally.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Bellagio_Conservatory_%26_Botanical_Garden_3.jpg/1280px-Bellagio_Conservatory_%26_Botanical_Garden_3.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1764\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular free fountain show with music and lights. See multiple shows for different songs.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Bellagio_fountains_at_night.jpg/1280px-Bellagio_fountains_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1764\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"Explore Casino Row\",\n          \"placeDetails\": \"Walk through casinos like New York-New York and MGM Grand.  Enjoy the atmosphere (set a budget and don't overspend).\",\n          \"placeImageUri\": \"https://media.cntraveler.com/photos/5b64e550311c851453260101/16:9/w_1280,c_limit/The-Cosmopolitan-of-Las-Vegas__2018_Cosmopolitan-Exterior-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1024,\n            \"longitude\": -115.1754\n          },\n          \"ticketPricing\": \"Free (unless gambling)\",\n          \"rating\": 4.2,\n          \"travelTimeFromHotel\": \"Varies depending on hotel location, walking distance\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon & Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light shows, street performers, and casinos in old downtown Vegas.  Vibrant and lively atmosphere.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Fremont_Street_Experience_under_Viva_Vision_Canopy.jpg/1280px-Fremont_Street_Experience_under_Viva_Vision_Canopy.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"Free (activities and gambling extra)\",\n          \"rating\": 4.6,\n          \"travelTimeFromHotel\": \"20-30 minutes by car/ride-sharing from the Strip\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Optional: Zip line above Fremont Street for a thrilling experience. Check for deals.\",\n          \"placeImageUri\": \"https://vegasexperience.com/wp-content/uploads/2014/01/slotzilla-lower-zoomline-2023.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"Varies, around $29-$49 per person\",\n          \"rating\": 4.3,\n          \"travelTimeFromHotel\": \"Located on Fremont Street\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area made from shipping containers.\",\n          \"placeImageUri\": \"https://www.vegasmeansbusiness.com/wp-content/uploads/2015/06/Downtown-Container-Park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1666,\n            \"longitude\": -115.1407\n          },\n          \"ticketPricing\": \"Free admission\",\n          \"rating\": 4.4,\n          \"travelTimeFromHotel\": \"Short walk from Fremont Street Experience\"\n        },\n          {\n            \"placeName\": \"Explore the Murals\",\n            \"placeDetails\": \"Downtown has many impressive Murals around the area\",\n            \"placeImageUri\": \"https://vegas.com/wp-content/uploads/2023/02/167345_099-2.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1699,\n              \"longitude\": -115.1405\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.3,\n            \"travelTimeFromHotel\": \"short walk from freemont street experience\"\n          }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller & Departure\",\n      \"bestTimeToVisit\": \"Afternoon & Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy panoramic views of Las Vegas from this giant Ferris wheel. Consider happy hour for discounted drinks.\",\n          \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/High_Roller_Las_Vegas_March_2014_crop.jpg/1280px-High_Roller_Las_Vegas_March_2014_crop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1169,\n            \"longitude\": -115.1692\n          },\n          \"ticketPricing\": \"Starting from $25 per person (check for online discounts)\",\n          \"rating\": 4.7,\n          \"travelTimeFromHotel\": \"10-20 minutes by car/ride-sharing from most Strip hotels\"\n        },\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district leading to the High Roller.\",\n          \"placeImageUri\": \"https://www.caesars.com/content/dam/linq/Things%20to%20Do/overview/the-linq-promenade-overview-things-to-do-960x400.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1168,\n            \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"Free admission (activities and food extra)\",\n          \"rating\": 4.3,\n          \"travelTimeFromHotel\": \"Located at the base of the High Roller\"\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your flight home.\",\n          \"placeImageUri\": \"https://airport-la.com/wp-content/uploads/2017/11/las-vegas-mccarran-international-airport-airport-la.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0801,\n            \"longitude\": -115.1523\n          },\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.5,\n          \"travelTimeFromHotel\": \"15-20 minutes by car/ride-sharing from most Strip hotels\"\n        }\n      ]\n    }\n  },\n  \"tips\": [\n    \"Take advantage of free activities and attractions.\",\n    \"Walk or use the Deuce bus to save on transportation costs.\",\n    \"Eat at affordable restaurants or grab snacks from convenience stores.\",\n    \"Look for happy hour deals for drinks and appetizers.\",\n    \"Stay hydrated and wear comfortable shoes.\"\n  ]\n}\n```"},
          ],
        },
      ],
    });
  
